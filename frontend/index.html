<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shameless</title>
  <link rel="stylesheet" href="/static/styles.css" />
    <!-- Chart.js from CDN for the doughnut chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- theme bulb in the top-right -->
    <button id="theme-toggle" class="theme-bulb" aria-pressed="false" aria-label="Alternar modo"></button>
    
    <main class="wrap">
      <header class="header">
        <div class="title-row">
          <h1 id="project-title">🔍 Shameless</h1>
          <p class="tagline">Análisis de Sentimiento con IA</p>
        </div>
        <p class="subtitle">Analiza el sentimiento de posts de Bluesky con inteligencia artificial</p>

        <div class="controls">
          <form id="search-form" class="search-form" action="#" onsubmit="return false;">
            <input id="search-input" placeholder="Buscar usuario de Bluesky (ej: jay.bsky.team)" aria-label="Buscar usuario" />
            <button id="search-btn" type="submit">
              <span class="btn-icon">🚀</span>
              <span class="btn-text">Analizar</span>
            </button>
          </form>
        </div>
        
        <div class="recent-label">
          <span class="label-icon">📋</span>
          <span>Últimos análisis</span>
        </div>
      </header>

      <section id="users-grid" class="grid" aria-label="Últimos usuarios"></section>
      
      <div id="empty-state" class="empty-state">
        <div class="empty-icon">🤖</div>
        <h2>¡Comienza tu primer análisis!</h2>
        <p>Busca un usuario de Bluesky arriba para analizar el sentimiento de sus posts</p>
      </div>

      <!-- Detail modal / panel -->
      <div id="detail" class="detail hidden" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="detail-inner">
          <button id="close-detail" class="close">✕</button>
          <div class="detail-header">
            <img id="detail-avatar" class="detail-avatar" src="" alt="Avatar" />
            <div>
              <h2 id="detail-name"></h2>
              <div class="detail-username" id="detail-username"></div>
            </div>
          </div>

          <div class="detail-body">
            <div class="chart-area">
              <canvas id="emotion-chart" width="300" height="300"></canvas>
            </div>
            <div class="legend-area" id="chart-legend"></div>
          </div>

          <div class="detail-extras">
            <section class="info-section summary-section">
              <div class="summary-header">
                <h3>📊 Resumen</h3>
                <span id="personality-loader" class="personality-loader hidden">
                  <span class="spinner"></span>
                  <span class="loader-text">Generando análisis...</span>
                </span>
              </div>
              <div class="section-content">
                <p id="detail-summary" class="summary-text"></p>
              </div>
            </section>
            
            <section class="info-section positive-post">
              <h3>🌟 Tweet más positivo</h3>
              <div class="section-content">
                <div id="most-positive-post" class="post-highlight">
                  <p class="post-text"></p>
                  <div class="post-meta">
                    <span class="post-confidence"></span>
                  </div>
                </div>
              </div>
            </section>
            
            <section class="info-section negative-post">
              <h3>💔 Tweet más negativo</h3>
              <div class="section-content">
                <div id="most-negative-post" class="post-highlight">
                  <p class="post-text"></p>
                  <div class="post-meta">
                    <span class="post-confidence"></span>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>
    
    <footer class="site-footer">
      <div class="footer-content">
        <p class="footer-text">Made with ❤️ for <strong>Hacktoberfest 2025</strong></p>
        <p class="footer-tech">Powered by DistilBERT • FastAPI • Bluesky API</p>
      </div>
    </footer>

    <script src="/static/app.js"></script>
  </body>
</html>
